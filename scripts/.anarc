#!/bin/bash

# Let's define some basic project variables
export PROJECT_NAME=ana
export USERNAME=austinagi

# Get the current directory
export SCRIPT_DIR=$(dirname $(realpath $0))
# Get the root directory of the project
export ROOT_DIR=$(dirname $SCRIPT_DIR)
# Get the path to the config directory
export CONFIG_DIR=$ROOT_DIR/config
# Get the root directory of the ANa API
export API_ROOT_DIR=$ROOT_DIR/ana-api
# Get the root directory of the ANa UI
export UI_ROOT_DIR=$ROOT_DIR/ana-ui
# Get the root directory of the ANa language model
export CORE_ROOT_DIR=$ROOT_DIR/ana-core

# For the curious ;)
alias vela="cd $CORE_ROOT_DIR"
alias puppis="cd $UI_ROOT_DIR"
alias carina="cd $API_ROOT_DIR"
alias argo=c"d $ROOT_DIR"

# Utility functions 
# Show a usage message if no arguments are passed
exitWithMessageIfNoArgs() {
    if [ $# -eq 0 ]; then
        echo "error: no exit message provided"
        exit 1
    elif [ $# -eq 1 ]; then
        echo "$1"
        exit 1
    fi
}
export -f exitWithMessageIfNoArgs

isValidComponent() {
    if [ $# -eq 0 ]; then
        echo "error: no component specified"
        exit 1
    fi

    COMPONENTS=("ui" "api" "core")
    for component in "${COMPONENTS[@]}"; do
        if [[ $component = $1 ]]; then 
            return 0
        fi
    done 
    return 1 
}
export -f isValidComponent